!function(e,n,t,i){"use strict";function r(t,r){function a(t){var r=e(this),a=r.data("media")||!1;if(a&&"video"===a.type&&n.blazyBox){var s=r.data("oembedUrl")?r.data("oembedUrl"):r.attr("href");n.blazyBox.open(s)}t.preventDefault(),i.clearTimeout(o.intenseTimer),o.intenseTimer=i.setTimeout(function(){o.clickedIndex=o.currentIndex=o.getIndex(r[0]),o.toggle(!0)},100)}var o=n.intense,s=e(r),l=e(".media--video",r).length;o.$gallery=s,o.$triggers=r.querySelectorAll("[data-intense-trigger], .intense"),o.totalCount=o.$triggers.length,l&&n.blazyBox&&n.blazyBox.attach(),new Intense(o.$triggers),s.on("click.ib","[data-intense-trigger], .intense",a)}n.intense=n.intense||{$box:null,$gallery:null,$prev:null,$next:null,$arrow:null,$triggers:[],clickedIndex:0,currentIndex:0,totalCount:0,intenseTimer:null,buildOut:function(){var t=this;null!==t.$box&&(e("body").addClass("is-intensed"),t.$box.addClass("intensed"),e(".intensed__arrow",t.$box).length||t.$box.append(n.theme("intense")),t.$arrow=e(".intensed__arrow",t.$box),t.$prev=e(".intensed__prev",t.$box),t.$next=e(".intensed__next",t.$box),t.$box.on("click.ib",".intensed__prev",t.goPrev),t.$box.on("click.ib",".intensed__next",t.goNext),t.$prev[0===t.currentIndex?"addClass":"removeClass"]("is-hidden"),t.$next[t.currentIndex===t.totalCount-1?"addClass":"removeClass"]("is-hidden"),t.$box.click(t.closeOut))},toggle:function(t){var r=n.intense;e("body")[t?"addClass":"removeClass"]("is-intensed"),i.setTimeout(function(){r.$box=e("body > figure:last"),t&&r.buildOut()},140)},navigate:function(){var i=n.intense;e("img",i.$box).click(),t.trigger(i.$triggers[i.currentIndex],"click"),i.toggle(!0)},goPrev:function(){var e=n.intense;e.currentIndex--,e.navigate()},goNext:function(){var e=n.intense;e.currentIndex++,e.navigate()},closeOut:function(){n.intense.toggle(!1)},getIndex:function(n){var t=this,i=0;return e(t.$triggers).each(function(e,t){if(t===n)return i=e,!1}),i}},n.theme.intense=function(){var e;return e='<div class="intensed__arrow">',e+='<button class="intensed__prev" data-role="none">'+n.t("Previous")+"</button>",e+='<button class="intensed__next" data-role="none">'+n.t("Next")+"</button>",e+="</div>"},n.behaviors.intense={attach:function(n){e("[data-intense-gallery]:not(.intense-gallery [data-intense-gallery]), .intense-gallery",n).once("intense-gallery").each(r)}}}(jQuery,Drupal,dBlazy,this);
